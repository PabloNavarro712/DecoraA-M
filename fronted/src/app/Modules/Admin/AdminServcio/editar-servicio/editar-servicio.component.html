<div class="container mt-4">
  <app-agregar-servicios></app-agregar-servicios>
  <h2>Gestión de Servicios</h2>

  <!-- Filtro de categorías -->
  <div class="mb-3">
    <label for="categoria">Filtrar por categoría:</label>
    <select
      id="categoria"
      class="form-select"
      [(ngModel)]="categoriaSeleccionada">
      <option *ngFor="let categoria of categorias" [value]="categoria">
        {{ categoria }}
      </option>
    </select>
  </div>

  <!-- Tabla de servicios -->
  <table class="table table-bordered table-hover">
    <thead class="table-dark">
      <tr>
        <th>Imagen</th>
        <th>Nombre del servicio</th>
        <th>Descripción</th>
        <th>Precio</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let servicio of serviciosFiltrados">
        <td><img [src]="servicio.imagen" alt="Imagen del servicio" style="width: 100px; height: auto;"></td>
        <td>{{ servicio.titulo }}</td>
        <td>{{ servicio.descripcion }}</td>
        <td>{{ servicio.precio | currency }}</td>
        <td>
          <button class="btn btn-primary btn-sm" (click)="editarServicio(servicio.id)">Editar</button>
          <button class="btn btn-danger btn-sm" (click)="eliminarServicio(servicio.id)">Eliminar</button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Paginación -->
  <div class="d-flex justify-content-between align-items-center mt-3">
    <button
      class="btn btn-secondary"
      [disabled]="paginaActual === 1"
      (click)="cambiarPagina(-1)">
      Anterior
    </button>
    <span>Página {{ paginaActual }}</span>
    <button
      class="btn btn-secondary"
      [disabled]="(paginaActual * elementosPorPagina) >= servicios.length"
      (click)="cambiarPagina(1)">
      Siguiente
    </button>
  </div>
</div>
