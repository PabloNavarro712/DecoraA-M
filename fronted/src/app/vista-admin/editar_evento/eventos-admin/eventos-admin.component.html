<div class="container-fluid mt-4">
  <!-- Sección de formulario y listas -->
  <div class="row">
    <!-- Formulario para agregar/editar eventos -->
    <div class="col-lg-4 col-md-12 mb-4">
      <div class="form-container p-4 bg-light shadow-sm">
        <h4 class="text-center">{{ editMode ? 'Editar Evento' : 'Nuevo Evento' }}</h4>
        <form [formGroup]="eventoForm" (ngSubmit)="guardarEvento()">
          <div class="mb-3">
            <label for="Descripcion" class="form-label">Descripción</label>
            <input id="Descripcion" type="text" formControlName="Descripcion" class="form-control" placeholder="Descripción del evento">
          </div>

          <div class="mb-3">
            <label for="FechaEvento" class="form-label">Fecha del Evento</label>
            <input id="FechaEvento" type="date" formControlName="FechaEvento" class="form-control">
          </div>

          <div class="mb-3">
            <label for="EstadoEvento" class="form-label">Estado del Evento</label>
            <select id="EstadoEvento" formControlName="EstadoEvento" class="form-select">
              <option value="activo">Activo</option>
              <option value="cancelado">Cancelado</option>
              <option value="por confirmar">Por Confirmar</option>
            </select>
          </div>

          <fieldset formGroupName="InformacionContacto">
            <legend class="small text-muted">Información de Contacto</legend>
            <div class="mb-3">
              <label for="Nombre" class="form-label">Nombre</label>
              <input id="Nombre" type="text" formControlName="Nombre" class="form-control" placeholder="Nombre de contacto">
            </div>

            <div class="mb-3">
              <label for="Numero" class="form-label">Número de Contacto</label>
              <input id="Numero" type="tel" formControlName="Numero" class="form-control" placeholder="Número de contacto">
            </div>

            <div class="mb-3">
              <label for="Direccion" class="form-label">Dirección</label>
              <input id="Direccion" type="text" formControlName="Direccion" class="form-control" placeholder="Dirección">
            </div>
          </fieldset>

          <div class="d-flex justify-content-between">
            <button type="submit" class="btn btn-primary animate__animated animate__pulse animate__infinite">{{ editMode ? 'Actualizar' : 'Guardar' }} <i class="fas fa-save"></i></button>
            <button type="button" class="btn btn-secondary" (click)="iniciarNuevoEvento()">Cancelar <i class="fas fa-times"></i></button>
          </div>
        </form>
      </div>
    </div>

    <!-- Listas de eventos -->
    <div class="col-lg-8 col-md-12">
      <div class="event-list-container bg-light p-3 shadow-sm">
        <!-- Contenedor de Eventos Activos -->
        <div class="card mb-4">
          <div class="card-header bg-success text-white d-flex justify-content-between align-items-center">
            <h5 class="mb-0">Eventos Activos</h5>
          </div>
          <ul class="list-group list-group-flush list-group-scroll">
            <li *ngFor="let evento of eventosActivos" class="list-group-item d-flex justify-content-between align-items-center">
              <div>
                <strong>{{ evento.Descripcion }}</strong> <br>
                <small class="text-muted">{{ evento.FechaEvento | date:'short' }}</small>
              </div>
              <div>
                <button class="btn btn-outline-dark btn-sm" (click)="editarEvento(evento)">Editar <i class="fas fa-edit"></i></button>
                <button class="btn btn-outline-warning btn-sm ms-2" (click)="cambiarEstado(evento, 'cancelado')">Cancelar <i class="fas fa-ban"></i></button>
                <button class="btn btn-outline-info btn-sm ms-2" (click)="cambiarEstado(evento, 'por confirmar')">Por Confirmar <i class="fas fa-question-circle"></i></button>
              </div>
            </li>
            <li *ngIf="!eventosActivos.length" class="list-group-item text-center text-muted">No hay eventos activos.</li>
          </ul>
        </div>

        <!-- Contenedor de Eventos Cancelados -->
        <div class="card mb-4">
          <div class="card-header bg-danger text-white d-flex justify-content-between align-items-center">
            <h5 class="mb-0">Eventos Cancelados</h5>
          </div>
          <ul class="list-group list-group-flush list-group-scroll">
            <li *ngFor="let evento of eventosCancelados" class="list-group-item d-flex justify-content-between align-items-center">
              <div>
                <strong>{{ evento.Descripcion }}</strong> <br>
                <small class="text-muted">{{ evento.FechaEvento | date:'short' }}</small>
              </div>
              <div>
                <button class="btn btn-outline-info btn-sm ms-2" (click)="cambiarEstado(evento, 'activo')">Activar <i class="fas fa-check-circle"></i></button>
              </div>
            </li>
            <li *ngIf="!eventosCancelados.length" class="list-group-item text-center text-muted">No hay eventos cancelados.</li>
          </ul>
        </div>

        <!-- Contenedor de Eventos Por Confirmar -->
        <div class="card mb-4">
          <div class="card-header bg-warning text-white d-flex justify-content-between align-items-center">
            <h5 class="mb-0">Eventos Por Confirmar</h5>
          </div>
          <ul class="list-group list-group-flush list-group-scroll">
            <li *ngFor="let evento of eventosPorConfirmar" class="list-group-item d-flex justify-content-between align-items-center">
              <div>
                <strong>{{ evento.Descripcion }}</strong> <br>
                <small class="text-muted">{{ evento.FechaEvento | date:'short' }}</small>
              </div>
              <div>
                <button class="btn btn-outline-dark btn-sm" (click)="editarEvento(evento)">Editar <i class="fas fa-edit"></i></button>
                <button class="btn btn-outline-success btn-sm ms-2" (click)="cambiarEstado(evento, 'activo')">Confirmar <i class="fas fa-check"></i></button>
                <button class="btn btn-outline-danger btn-sm ms-2" (click)="cambiarEstado(evento, 'cancelado')">Cancelar <i class="fas fa-times"></i></button>
              </div>
            </li>
            <li *ngIf="!eventosPorConfirmar.length" class="list-group-item text-center text-muted">No hay eventos por confirmar.</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
